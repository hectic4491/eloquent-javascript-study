<!DOCTYPE html>

<html>

  <!--
    This is the Solution to eloquent javascripts's
    Chapter 14 Exercise 1; Build a Table
  -->

  <head>
    <title>Exercise 1</title>
  </head>

  <body>
    <h1>Mountains</h1>

    <div id="mountains"></div>

    <script>
      const MOUNTAINS = [
        {name: "Kilimanjaro", height: 5895, place: "Tanzania"},
        {name: "Everest", height: 8848, place: "Nepal"},
        {name: "Mount Fuji", height: 3776, place: "Japan"},
        {name: "Vaalserberg", height: 323, place: "Netherlands"},
        {name: "Denali", height: 6168, place: "United States"},
        {name: "Popocatepetl", height: 5465, place: "Mexico"},
        {name: "Mont Blanc", height: 4808, place: "Italy/France"}
      ];
      
      const mountainDiv = document.getElementById("mountains");
      const mountainTable = document.createElement("table");
      const mountainTableHeaders = document.createElement("tr");

      function buildHeader() {
        for (const headerName of Object.keys(MOUNTAINS[0])) {
          const header = document.createElement("th");
          header.textContent = headerName;
          mountainTableHeaders.appendChild(header); 
        }
        mountainTable.appendChild(mountainTableHeaders);
      }

      function buildContent() {
        for (const mountain of MOUNTAINS) {
          const newRow = document.createElement("tr");
          
          const nameCell = document.createElement("td");
          nameCell.textContent = mountain["name"];
          newRow.appendChild(nameCell);
          
          const heightCell = document.createElement("td");
          heightCell.textContent = mountain["height"];
          newRow.appendChild(heightCell);
          
          const placeCell = document.createElement("td");
          placeCell.textContent = mountain["place"];
          newRow.appendChild(placeCell);

          mountainTable.appendChild(newRow);
        }
      }

      buildHeader();
      buildContent();
      mountainDiv.appendChild(mountainTable);

    </script>
  </body>
</html>