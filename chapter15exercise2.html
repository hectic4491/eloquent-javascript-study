<!DOCTYPE html>
<html>
<head>
  <title>Chapter 15 exercise 2</title>

</head>

<body>

  <style>
    .trail { /* className for the trail elements */
      position: absolute;
      height: 6px; width: 6px;
      border-radius: 3px;
      background: teal;
    }
    body {
      height: 300px;
    }
  </style>
  
    
  <script>

    let scheduled = null; // Used to store the latest mouse movement.
                          // null is "falsy"

    // This div moves with the mouse.
    let mouseDiv = document.createElement("div");
    mouseDiv.style.position = "absolute";
    document.body.append(mouseDiv);

    // This is our follower element.
    let follower = document.createElement("div");
    follower.setAttribute("class", "trail");
    mouseDiv.appendChild(follower);

    window.addEventListener("mousemove", event => {
      if (!scheduled) {
        setTimeout(() => {

            mouseDiv.style.left = scheduled.pageX + 8 + 'px';
            mouseDiv.style.top = scheduled.pageY + 18 + 'px';
            mouseDiv.appendChild(follower);

          scheduled = null;
        }, 100);
      }
      scheduled = event;
    });
  </script>

</body>
</html>